(this.webpackJsonpkhajaghar=this.webpackJsonpkhajaghar||[]).push([[0],[,,,,,function(e,t,n){e.exports={button:"HeaderCartButton_button__3uqAm",icon:"HeaderCartButton_icon__1tLCO",badge:"HeaderCartButton_badge__22jc1",bump:"HeaderCartButton_bump__2yAKT"}},function(e,t,n){e.exports={form:"Checkout_form__3_Yzy",formInput:"Checkout_formInput__25hkE",control:"Checkout_control__24MCq",actions:"Checkout_actions__1IjgQ",invalid:"Checkout_invalid__2J-jX"}},,function(e,t,n){e.exports={"cart-items":"Cart_cart-items__283j_",total:"Cart_total__3R0he",actions:"Cart_actions__1W2La","button--alt":"Cart_button--alt__1JNG0",button:"Cart_button__1gW7T"}},function(e,t,n){e.exports={"cart-item":"CartItem_cart-item__ApNk2",summary:"CartItem_summary__1AOqt",price:"CartItem_price__3Q1DD",amount:"CartItem_amount__2D11C",actions:"CartItem_actions__1F8MY"}},,,,,function(e,t,n){e.exports={backdrop:"Modal_backdrop__3pubf",modal:"Modal_modal__7uR9d","slide-down":"Modal_slide-down__WwID9"}},function(e,t,n){e.exports={meal:"MealItem_meal__Uzm4I",description:"MealItem_description__Ii5ug",price:"MealItem_price__3EFPY"}},function(e,t,n){e.exports={header:"Header_header__1xpax","main-image":"Header_main-image__2hye7"}},function(e,t,n){e.exports={form:"MealItemForm_form__r6jnr",error:"MealItemForm_error__VSPQt"}},,,,,function(e,t,n){e.exports={summary:"MealsSummary_summary__1DCZg"}},function(e,t,n){e.exports={card:"Card_card__niCnv"}},function(e,t,n){e.exports={input:"Input_input__sQjeR"}},function(e,t,n){e.exports={meals:"AvailableMeals_meals__22ES_","meals-appear":"AvailableMeals_meals-appear__OIWEq"}},,,,,,,,function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var a=n(20),c=n.n(a),r=(n(33),n(3)),o=n(2),s=n(1),i=n.n(s),l=n(4),u="https://react-food-app-25a5e-default-rtdb.asia-southeast1.firebasedatabase.app/",d=n(12),j=n(7),m=n.n(j),b=n(14),h=n.n(b),p=n(0),O=function(e){return Object(p.jsx)("div",{className:h.a.modal,children:Object(p.jsx)("div",{className:h.a.content,children:e.children})})},f=document.getElementById("overlays"),x=function(e){return Object(p.jsxs)(s.Fragment,{children:[m.a.createPortal(Object(p.jsx)("div",{className:h.a.backdrop,onClick:e.closeCart}),f),m.a.createPortal(Object(p.jsx)(O,{children:e.children}),f)]})};var _=function(e){var t=Object(s.useState)(Object.freeze({name:"",description:"",price:""})),n=Object(o.a)(t,2),a=n[0],c=n[1],i=function(e){c((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(d.a)({},e.target.name,e.target.value))}))};return Object(p.jsx)(x,{closeCart:e.closeCart,children:Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault(),t.target.reset(),e.formValue(a),e.closeCart()},children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"meal-name",children:"Meal Name"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"meal-name",name:"name",required:!0,placeholder:"Enter meal",onChange:i})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"description",children:"Description"}),Object(p.jsx)("textarea",{type:"text",className:"form-control",id:"description",required:!0,name:"description",placeholder:"Enter Description",onChange:i})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"price",children:"Price"}),Object(p.jsx)("input",{type:"number",className:"form-control",name:"price",id:"price",step:"0.01",required:!0,placeholder:"Enter Price",onChange:i})]}),Object(p.jsxs)("div",{style:{display:"flex",gap:10,justifyContent:"flex-end"},children:[Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),Object(p.jsx)("button",{type:"button",className:"btn btn-danger",onClick:e.closeCart,children:"Close"})]})]})})},v=i.a.createContext({totalAmount:0,totalItem:[],addItemToList:function(e){},removeItemFromList:function(e){},removeAllCartItem:function(){}}),C=n(8),y=n.n(C),N=n(9),g=n.n(N),I=function(e){var t=e.props,n=e.onRemove,a=e.onAdd,c="NPR ".concat(t.price.toFixed(2));return Object(p.jsxs)("li",{className:g.a["cart-item"],children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:t.name}),Object(p.jsxs)("div",{className:g.a.summary,children:[Object(p.jsx)("span",{className:g.a.price,children:c}),Object(p.jsxs)("span",{className:g.a.amount,children:["x ",t.amount]})]})]}),Object(p.jsxs)("div",{className:g.a.actions,children:[Object(p.jsx)("button",{onClick:n,children:"\u2212"}),Object(p.jsx)("button",{onClick:a,children:"+"})]})]})},w=n(6),A=n.n(w),k=function(e){var t=Object(s.useRef)(),n=Object(s.useRef)(),a=Object(s.useRef)(),c=Object(s.useRef)();return Object(p.jsxs)("form",{className:A.a.form,onSubmit:function(r){r.preventDefault(),e.formValue({name:t.current.value,street:n.current.value,postalCode:a.current.value,city:c.current.value}),e.closeCart()},children:[Object(p.jsxs)("div",{className:A.a.formInput,children:[Object(p.jsxs)("div",{className:"".concat(A.a.control," form-group"),children:[Object(p.jsx)("label",{htmlFor:"name",children:"Your Name"}),Object(p.jsx)("input",{type:"text",id:"name",ref:t,className:"form-control",required:!0})]}),Object(p.jsxs)("div",{className:"".concat(A.a.control," form-group"),children:[Object(p.jsx)("label",{htmlFor:"street",children:"Street"}),Object(p.jsx)("input",{type:"text",id:"street",ref:n,className:"form-control",required:!0})]}),Object(p.jsxs)("div",{className:"".concat(A.a.control," form-group"),children:[Object(p.jsx)("label",{htmlFor:"postal",children:"Postal Code"}),Object(p.jsx)("input",{type:"text",id:"postal",ref:a,className:"form-control",required:!0})]}),Object(p.jsxs)("div",{className:"".concat(A.a.control," form-group"),children:[Object(p.jsx)("label",{htmlFor:"city",children:"City"}),Object(p.jsx)("input",{type:"text",id:"city",ref:c,className:"form-control",required:!0})]})]}),Object(p.jsxs)("div",{className:A.a.actions,children:[Object(p.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:e.closeCart,children:"Cancel"}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Confirm"})]})]})},M=n(18),S=n(21);var F=function(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(null),r=Object(o.a)(c,2),l=r[0],u=r[1],d=i.a.useCallback(function(){var e=Object(S.a)(Object(M.a)().mark((function e(t,n){var c,r;return Object(M.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),u(null),e.prev=2,e.next=5,fetch(t.url,{method:t.method?t.method:"GET",headers:t.headers?t.headers:{},body:t.body?t.body:null});case 5:if((c=e.sent).ok){e.next=8;break}throw new Error("Something went wrong");case 8:return e.next=10,c.json();case 10:r=e.sent,n&&n(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),u(e.t0.message||"Something went wrong!");case 17:a(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}(),[]);return{isLoading:n,error:l,sendRequest:d}},R=function(e){var t=Object(s.useContext)(v),n=t.totalItem.length>0,a=Object(s.useState)(!1),c=Object(o.a)(a,2),r=c[0],i=c[1],d=F().sendRequest,j=function(e){t.removeItemFromList(e)},m=function(e){t.addItemToList({id:e.id,name:e.name,price:e.price,amount:1})},b=Object(p.jsx)("ul",{className:y.a["cart-items"],children:t.totalItem.map((function(e){return e.amount>0&&Object(p.jsx)(I,{props:e,onRemove:j.bind(null,e.id),onAdd:m.bind(null,e)},e.id)}))});return Object(p.jsxs)(x,{closeCart:e.closeCart,children:[b,Object(p.jsxs)("div",{className:y.a.total,children:[Object(p.jsx)("span",{children:"Total Amount"}),Object(p.jsxs)("span",{children:["NPR ",t.totalAmount.toFixed(2)]})]}),Object(p.jsxs)("div",{className:y.a.actions,children:[Object(p.jsx)("button",{className:y.a["button--alt"],onClick:e.closeCart,children:"Close"}),n&&Object(p.jsx)("button",{className:y.a.button,onClick:function(){return i(!0)},children:"Order"})]}),r&&Object(p.jsx)(k,{formValue:function(n){var a={users:n,meals:t.totalItem};e.closeCart(),d({url:"".concat(u,"/orders.json"),method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(a)}),l.c.success("Meal Ordered Successfully"),t.removeAllCartItem()},closeCart:e.closeCart})]})},E=function(){return Object(p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(p.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},T=n(5),q=n.n(T),D=function(e){var t=Object(s.useContext)(v).totalItem,n=t.reduce((function(e,t){return e+t.amount}),0),a=Object(s.useState)(!1),c=Object(o.a)(a,2),r=c[0],i=c[1];return Object(s.useEffect)((function(){if(0!==t.length){i(!0);var e=setTimeout((function(){i(!1)}),300);return function(){return clearTimeout(e)}}}),[t]),Object(p.jsxs)("button",{className:"".concat(q.a.button," ").concat(r?q.a.bump:""),onClick:e.showCart,children:[Object(p.jsx)("span",{className:q.a.icon,children:Object(p.jsx)(E,{})}),Object(p.jsx)("span",{children:"Your Cart"}),Object(p.jsx)("span",{className:q.a.badge,children:n})]})},L=n.p+"static/media/meals.4700ece8.jpeg",H=n(16),P=n.n(H);var V=function(e){return Object(p.jsxs)("button",{className:"".concat(q.a.button),onClick:e.showAddMeal,children:[Object(p.jsx)("span",{className:q.a.icon,children:"\ud83e\udd6b"}),Object(p.jsxs)("span",{children:[Object(p.jsx)("span",{style:{fontSize:"1.2rem"}})," Add Meals"]})]})},B=function(e){return Object(p.jsxs)(s.Fragment,{children:[Object(p.jsxs)("header",{className:P.a.header,children:[Object(p.jsx)("h1",{children:"KhajaGhar"}),Object(p.jsx)(V,{showAddMeal:e.showAddMeal}),Object(p.jsx)(D,{showCart:e.showCart})]}),Object(p.jsx)("div",{className:P.a["main-image"],children:Object(p.jsx)("img",{src:L,alt:"A table full of delicious food!"})})]})},z=n(22),J=n.n(z),W=function(){return Object(p.jsxs)("section",{className:J.a.summary,children:[Object(p.jsx)("h2",{children:"Order food of varieties"}),Object(p.jsx)("p",{children:"KhajaGhar is the fastest, easiest and most convenient way to enjoy the best food of your favourite restaurants at home, at the office or wherever you want to."}),Object(p.jsx)("p",{children:"We know that your time is valuable and sometimes every minute in the day counts. That\u2019s why we deliver! So you can spend more time doing the things you love."})]})},Y=n(23),G=n.n(Y),Q=function(e){return Object(p.jsx)("div",{className:G.a.card,children:e.children})},K=n(24),U=n.n(K),X=i.a.forwardRef((function(e,t){return Object(p.jsxs)("div",{className:U.a.input,children:[Object(p.jsx)("label",{htmlFor:e.input.id,children:e.label}),Object(p.jsx)("input",Object(r.a)(Object(r.a)({ref:t},e.input),{},{onChange:function(t){return e.onChangeHandler(t.target.value)}}))]})})),Z=n(17),$=n.n(Z),ee=function(e){var t=Object(s.useState)(!1),n=Object(o.a)(t,2),a=n[0],c=n[1],r=Object(s.useRef)();return Object(p.jsxs)("form",{className:$.a.form,onSubmit:function(t){t.preventDefault();var n=+r.current.value;n<1||n>5?c(!0):e.addToCart(n)},children:[Object(p.jsx)(X,{ref:r,label:"Amount",onChangeHandler:function(e){c(e<1||e>5)},input:{id:"amount_"+e.id,type:"number",defaultValue:"1"}}),Object(p.jsx)("button",{children:"+ Add"}),a&&Object(p.jsx)("p",{className:$.a.error,children:"Amount should be between 1 and 5"})]})},te=n(15),ne=n.n(te),ae=function(e){var t="NPR ".concat(e.price.toFixed(2)),n=Object(s.useContext)(v);return Object(p.jsxs)("li",{className:ne.a.meal,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:e.name}),Object(p.jsx)("div",{className:ne.a.description,children:e.description}),Object(p.jsx)("div",{className:ne.a.price,children:t})]}),Object(p.jsx)("div",{children:Object(p.jsx)(ee,{id:e.id,addToCart:function(t){n.addItemToList({id:e.id,name:e.name,price:e.price,amount:t})}})})]})},ce=n(25),re=n.n(ce),oe=function(){var e=F(),t=e.isLoading,n=e.error,a=e.sendRequest,c=Object(s.useState)([]),r=Object(o.a)(c,2),i=r[0],d=r[1];Object(s.useEffect)((function(){a({url:"".concat(u,"/meals.json")},(function(e){var t=[];for(var n in e)t.push({id:n,name:e[n].name,description:e[n].description,price:e[n].price});d(t)}))}),[a]),Object(s.useEffect)((function(){l.c.error(n)}),[n]);var j=i.map((function(e){return Object(p.jsx)(ae,{id:e.id,name:e.name,description:e.description,price:e.price},e.id)})),m="No Meals Found. Try Adding Meals";return n&&(m=Object(p.jsx)("p",{children:n})),t&&(m=Object(p.jsx)("p",{children:"Loading Data..."})),!t&&j.length>0&&(m=Object(p.jsx)("ul",{children:j})),Object(p.jsx)("section",{className:re.a.meals,children:Object(p.jsx)(Q,{children:m})})},se=function(){return Object(p.jsxs)(s.Fragment,{children:[Object(p.jsx)(W,{}),Object(p.jsx)(oe,{})]})},ie=n(11);var le=function(e){var t=e.children,n={item:[],amount:0},a=Object(s.useReducer)((function(e,t){if("ADD"===t.type){var a,c=e.amount+t.payload.price*t.payload.amount,o=Number(c.toFixed(2)),s=e.item.findIndex((function(e){return e.id===t.payload.id})),i=e.item[s];if(i){var l=Object(r.a)(Object(r.a)({},i),{},{amount:i.amount+t.payload.amount});(a=Object(ie.a)(e.item))[s]=l}else a=[].concat(Object(ie.a)(e.item),[t.payload]);return{item:a,amount:o}}if("REMOVE"===t.type){var u=e.item.findIndex((function(e){return e.id===t.id})),d=e.item[u],j=e.amount-d.price,m=Number(j.toFixed(2)),b=Object(ie.a)(e.item);return 0===d.amount-1?b.splice(u,1):b[u]=Object(r.a)(Object(r.a)({},d),{},{amount:d.amount-1}),{item:Object(ie.a)(b),amount:m}}return t.type,n}),n),c=Object(o.a)(a,2),i=c[0],l=c[1],u={totalItem:i.item,totalAmount:i.amount,addItemToList:function(e){l({type:"ADD",payload:e})},removeItemFromList:function(e){l({type:"REMOVE",id:e})},removeAllCartItem:function(){l({type:"REMOVE_ALL"})}};return Object(p.jsx)(v.Provider,{value:u,children:t})};var ue=function(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],c=function(){return a(!0)},i=Object(s.useState)(!1),d=Object(o.a)(i,2),j=d[0],m=d[1],b=function(){return m(!0)},h=F().sendRequest;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(le,{children:[n&&Object(p.jsx)(R,{showCart:c,closeCart:function(){return a(!1)}}),j&&Object(p.jsx)(_,{showCart:b,closeCart:function(){return m(!1)},formValue:function(e){var t=Object(r.a)(Object(r.a)({},e),{},{price:Number(e.price)});h({url:"".concat(u,"/meals.json"),method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),setTimeout((function(){window.location.reload()}),2500),l.c.info("Added Successfully. Reloading Page!!",{autoClose:2e3,toastId:"reloadToast",closeButton:!1,pauseOnHover:!1,pauseOnFocusLoss:!1,closeOnClick:!1})}}),Object(p.jsx)(B,{showCart:c,showAddMeal:b}),Object(p.jsx)("main",{children:Object(p.jsx)(se,{})})]})})};n(35);c.a.createRoot(document.getElementById("root")).render(Object(p.jsxs)(i.a.StrictMode,{children:[Object(p.jsx)(l.b,{transition:l.a}),Object(p.jsx)(ue,{})]}))}],[[36,1,2]]]);
//# sourceMappingURL=main.0bfd51db.chunk.js.map